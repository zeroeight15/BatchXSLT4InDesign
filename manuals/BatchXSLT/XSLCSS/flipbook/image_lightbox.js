function showImage_lightbox(){var E=0,K,N,C=5,q=5,P=new Array(C),k,I=-99999999,g=null,R=null,s=null,x=null,F={left:0,top:0,right:0,bottom:0},t={left:0,top:0,right:0,bottom:0},f=null,T={left:0,top:0,right:0,bottom:0},y=null,J=0,o=I,m=I,n="rgb(136, 136, 136)",D=null,M=null,h=new Object();h.draggable=1;h.dragFunction=null;h.scaleToSize=2;h.lightbox_2_window_padding=2;h.top=-1;h.left=-1;h.imageLoadIconLeft="80px";h.imageLoadIconTop="80px";h.imageLoadIconWindowWidth=200;h.imageLoadIconWindowHeight=200;h.imageLoadIconBackgroundColor="#fff";h.containerWindowIsIFrame=H($(window));h.xslcssPath="";h.body=null;try{h.body=document.getElementsByTagName("body")[0]}catch(Q){}h.currentMetaViewPortScale=1;h.windowWidth=0;h.windowHeight=0;h.body_offsetMarginLeft=0;h.body_offsetMarginTop=0;h.lightboxAdjustToWindowTimeout=500;h.silb_resizeHandlerTimeout=null;h.imageWidth=null;h.imageHeight=null;for(N=0;N<C;N++){P[N]=new Array(q)}P[0][0]="Click to close this box";P[0][1]="Klicken um diese Box zu schliessen";P[0][2]="Cliquer pour fermer";P[0][3]="Click to close this box";P[0][4]="Click to close this box";P[1][0]="Drag this";P[1][1]="Ziehen zum Verschieben";P[1][2]="Déplacer avec la souris";P[1][3]="Drag this";P[1][4]="Drag this";P[2][0]="show image in new window";P[2][1]="Bild in neuem Fenster zeigen";P[2][2]="Cette image dans une nouvelle fenêtre";P[2][3]="show image in new window";P[2][4]="show image in new window";function H(i){var e=false;if(!i.frameElement){}else{alert(typeof(i.frameElement));if(_sb_s.is_IE&&(_sb_s.IEVersion<=7)){if(typeof(i.frameElement)=="object"){e=true}}else{e=(i.frameElement&&(i.frameElement+"").indexOf("HTMLIFrameElement")>-1)}}return(e)}function z(i){if(i){if(i.preventDefault){i.preventDefault()}if(i.stopPropagation){i.stopPropagation()}if(typeof(i.cancelBubble)!="undefined"){i.cancelBubble=true}}return(false)}function b(){if(_sb_s.is_iPad||_sb_s.is_iPhone){h.windowWidth=(window.innerWidth?window.innerWidth:document.body.clientWidth);if(!h.containerWindowIsIFrame){h.windowWidth*=_sb_s.currentMetaViewPortScale}h.windowWidth=Math.floor(h.windowWidth);h.windowHeight=(window.innerHeight?window.innerHeight:document.body.clientHeight);if(!h.containerWindowIsIFrame){h.windowHeight*=_sb_s.currentMetaViewPortScale}h.windowHeight=Math.floor(h.windowHeight)}else{h.windowWidth=(window.innerWidth?window.innerWidth:document.body.clientWidth);h.windowHeight=(window.innerHeight?window.innerHeight:document.body.clientHeight)}}function O(){b();h.body_offsetMarginLeft=Math.ceil((h.windowWidth-h.body.offsetWidth)/2);h.body_offsetMarginTop=_sb_e.body_marginTop}function c(i,W,U){if(E>0){$.fn.log("log","")}var e='<img class="showImage_lightbox_img" id="%id%_img" src="%xslcssPath%sprocket.gif">',V=e.replace(/%handle%/g,i);V=V.replace(/%id%/g,W);V=V.replace(/%name%/g,U);V=V.replace(/%xslcssPath%/g,h.xslcssPath);return(V)}function B(i,W,U){if(E>0){$.fn.log("log","")}var e="",V="";e=((_sb_s.inApp==false)?'<span class="showImage_lightbox_title_newwindow" id="%id%_newwindow" on'+_sb_s.pointerEvents.end+'="return(showImage(\'%name%\',1));" title="'+P[2][_sb_s.cur_lang_ID]+'"></span>':"");e+='<span class="showImage_lightbox_title_spacer" id="%id%_spacer"></span><span class="showImage_lightbox_title_close" id="%id%_close" on'+_sb_s.pointerEvents.end+'="return(%handle%.showImage_lightbox_fadeout(event));" title="'+P[0][_sb_s.cur_lang_ID]+'"></span>';V=e.replace(/%handle%/g,i);V=V.replace(/%id%/g,W);V=V.replace(/%name%/g,U);return(V)}String.prototype.hashCode=function(){var V=0,e,U;if(this.length==0){return V}for(e=0;e<this.length;e++){U=this.charCodeAt(e);V=((V<<5)-V)+U;V=V&V}return(V)};function r(e){var i=""+e.hashCode();i=i.replace(/\-/g,"M");return("ilb_"+i)}function l(e){return(e);if(_sb_s.is_Android||(typeof(window.orientation)=="undefined")||h.containerWindowIsIFrame){return(e)}return(Math.round(parseInt(e)/_sb_s.currentMetaViewPortScale))}function S(U,i,V){o=i;m=V}k={start:null,current:null,end:null,startXY:{x:null,y:null},endXY:{x:null,y:null},deltaXY:{x:0,y:0},isSwipe:false,swipeTrigger:1,isTap:false,tapTrigger:200,imageXY:{t:0,l:0},imageOrigWH:{w:null,h:null}};function G(Y){switch(Y.type){case _sb_s.pointerEvents.start:k.start=k.current=new Date().getTime();k.end=null;k.startXY=_sb_fn.get_pointerXY(Y);k.endXY.x=k.endXY.y=null;k.isSwipe=false;k.isTap=false;k.deltaXY.x=_sb_s.lb_ptr_evt.deltaXY.y=0;_sb_fn.addEventHandler(f,_sb_s.pointerEvents.end+" "+_sb_s.pointerEvents.move+" "+_sb_s.pointerEvents.out+" "+_sb_s.pointerEvents.cancel,G,false);if(k.imageOrigWH.w===null){k.imageOrigWH.w=parseFloat(R.style.width);k.imageOrigWH.h=parseFloat(R.style.height);var X=h.body_offsetMarginLeft+parseFloat(f.offsetLeft)+T.left+t.left+s.offsetLeft,W=parseFloat(f.offsetTop)+T.top+t.top+s.offsetTop,Z=parseFloat(f.offsetWidth)-T.left-T.right,V=(k.startXY.x-X),i=(k.startXY.y-W),U=g.width/Z;V=-(V*U)+V;i=-(i*U)+i;R.style.top=i+"px";R.style.left=V+"px"}R.style.width=g.width+"px";R.style.height=g.height+"px";R.style.cursor="all-scroll";k.imageXY.t=parseFloat(R.style.top);k.imageXY.l=parseFloat(R.style.left);break;case _sb_s.pointerEvents.move:if(k.start===null){break}k.current=new Date().getTime();k.endXY=_sb_fn.get_pointerXY(Y);if(k.endXY==null){break}k.deltaXY.x=k.endXY.x-k.startXY.x;k.deltaXY.y=k.endXY.y-k.startXY.y;if((Math.abs(k.deltaXY.x)>k.swipeTrigger)||(Math.abs(k.deltaXY.y)>k.swipeTrigger)){k.isSwipe=true}else{k.isSwipe=false}k.isTap=false;R.style.top=(k.imageXY.t+k.deltaXY.y)+"px";R.style.left=(k.imageXY.l+k.deltaXY.x)+"px";break;case _sb_s.pointerEvents.end:case _sb_s.pointerEvents.out:case _sb_s.pointerEvents.cancel:k.current=new Date().getTime();if(!k.isSwipe){if((k.current-k.start)<=k.tapTrigger){k.isTap=true}else{k.isTap=false}}else{k.isTap=false}k.start=k.end=null;if(k.isTap&&(k.imageOrigWH.w!==null)){R.style.top="0px";R.style.left="0px";R.style.width=k.imageOrigWH.w+"px";R.style.height=k.imageOrigWH.h+"px";k.imageOrigWH.w=k.imageOrigWH.h=null}_sb_fn.removeEventHandler(f,_sb_s.pointerEvents.end+" "+_sb_s.pointerEvents.move+" "+_sb_s.pointerEvents.out+" "+_sb_s.pointerEvents.cancel,G,false);break}return z(Y)}function j(ad,X,ae,i,ac){if(E>0){$.fn.log("log","")}if(D!=null){clearTimeout(D);D=null}k.imageOrigWH.w=k.imageOrigWH.h=null;var ag=false,e=0,Y=0,V=0,af=0,ak=1,ai=1,am=0,aa,al,U=0,ah=0,ab=parseInt(J),Z,W;R=document.getElementById(ad);if(!R){return(0)}if(!R.complete){D=setTimeout(function(){j(ad,X,ae,i,ac)},50);return(0)}R.style.width=R.style.height="auto";O();if(typeof(window.orientation)!="undefined"){h.scaleToSize=2}switch(h.scaleToSize){case 1:Z=h.body.offsetWidth-(2*h.lightbox_2_window_padding)-F.left-F.right-t.left-t.right-T.left-T.right;U=0;W=h.body.offsetHeight-(2*h.lightbox_2_window_padding)-F.top-F.bottom-t.top-t.bottom-T.top-T.bottom-ab;ah=h.lightbox_2_window_padding;break;default:Z=h.windowWidth-(2*h.lightbox_2_window_padding)-t.left-t.right-F.left-F.right-T.left-T.right;U=h.body_offsetMarginLeft;W=h.windowHeight-(2*h.lightbox_2_window_padding)-t.top-t.bottom-F.top-F.bottom-ab-T.top-T.bottom;ah=h.lightbox_2_window_padding;break}if(X){aa=X.width;al=X.height}if((aa==0)||(al==0)){if(i&&ac){aa=i;al=ac}else{if(_sb_s.is_IE){s.style.display="block"}aa=R.width;al=R.height}}if((R.src.indexOf("XSLCSS/")<0)&&(R.src.indexOf("/sprocket.gif")<0)){f.style.backgroundColor=n;R.style.left=0;R.style.top=0;if(aa>Z){ak=Z/aa}if(al>W){ai=W/al}if((ak>0)||(ai>0)){am=Math.min(ak,ai)}if(am!=0){V=Math.floor(aa*am);af=Math.floor(al*am)}else{V=aa;af=al}}else{f.style.backgroundColor=h.imageLoadIconBackgroundColor;R.style.position="relative";R.style.left=h.imageLoadIconLeft;R.style.top=h.imageLoadIconTop;ag=true;V=h.imageLoadIconWindowWidth;af=h.imageLoadIconWindowHeight}if(V<100){V=100;ag=true}if(af<100){af=100;ag=true}if(o==I){if(parseInt(h.left)<0){Y=Math.floor((Z-V)/2)+h.lightbox_2_window_padding}else{Y=parseInt(h.left)}}else{Y=o}if(m==I){if(parseInt(h.top)<0){e=Math.floor((h.windowHeight-(t.top+F.top+ab+T.top+af+T.bottom+F.bottom+t.bottom))/2)-Math.ceil(h.body_offsetMarginTop/2)}else{e=parseInt(h.top)}}else{e=m}if(m==I){Y-=U;e-=ah;Y=l(Y);e=l(e);V=l(V);af=l(af)}else{e-=ah}if(!isNaN(Y)){Y+="px"}if(!isNaN(e)){e+="px"}if(ag){f.style.width=V+"px";f.style.height=af+"px";if(_sb_s.is_IE&&(_sb_s.IEVersion<=7)){s.style.width=(F.left+V)+"px";s.style.height=(ab+F.top+af+F.bottom)+"px"}}else{R.style.width=V+"px";R.style.height=af+"px";f.style.overflow="hidden";f.style.width=V+"px";f.style.height=af+"px";if(_sb_s.is_IE&&(_sb_s.IEVersion<=7)){s.style.width=(F.left+V)+"px";s.style.height=(ab+F.top+af+F.bottom)+"px"}}s.style.left=Y;s.style.top=e;s.style.display="block";function aj(){if(h.silb_resizeHandlerTimeout!=null){clearTimeout(h.silb_resizeHandlerTimeout);h.silb_resizeHandlerTimeout=null}h.silb_resizeHandlerTimeout=setTimeout(function(){j(ad,X,ae,i,ac)},h.lightboxAdjustToWindowTimeout)}if(!_sb_s.is_MobileOS){_sb_fn.removeEventHandler(window,"resize",aj,false);setTimeout(function(){_sb_fn.addEventHandler(window,"resize",aj,false)},100)}else{_sb_fn.removeEventHandler(window,"orientationchange",aj,false);setTimeout(function(){_sb_fn.addEventHandler(window,"resize",aj,false)},100)}_sb_fn.addEventHandler(f,_sb_s.pointerEvents.start,G,false);return(0)}function L(V,U,i){if(E>0){$.fn.log("log","")}if(M!=null){clearTimeout(M);M=null}var e=document.getElementById(V);if(!e){return}e.src=i;j(V,g,i,h.imageWidth,h.imageHeight)}function A(V,U,i){if(E>0){$.fn.log("log","")}var e=U+'.showImage_lightbox_setimage("'+V+'_img","'+U+'","'+i+'")';setTimeout(e,1)}function w(i){if(E>0){$.fn.log("log","")}a(i)}function a(i){if(E>0){$.fn.log("log","")}if(!_sb_s.is_MobileOS){_sb_fn.removeEventHandler(window,"resize",j.silb_resizeHandler,false)}else{_sb_fn.removeEventHandler(window,"orientationchange",j.silb_resizeHandler,false)}if(D!=null){clearTimeout(D);D=null}if(i){if(i.preventDefault){i.preventDefault()}if(i.stopPropagation){i.stopPropagation()}if(typeof(i.cancelBubble)!="undefined"){i.cancelBubble=true}if(i.shiftKey||i.altKey){o=I;m=I}}if(!f){return(z(i))}_sb_fn.removeEventHandler(f,_sb_s.pointerEvents.start+" "+_sb_s.pointerEvents.end+" "+_sb_s.pointerEvents.move+" "+_sb_s.pointerEvents.out+" "+_sb_s.pointerEvents.cancel,G,false);g=null;f.innerHTML="";s.style.display="none";s.style.left="-10000px";s.style.top="-10000px";return(z(i))}function d(e){if(typeof(e.draggable)!="undefined"){h.draggable=e.draggable}if(typeof(e.dragFunction)!="undefined"){h.dragFunction=e.dragFunction}if(typeof(e.scaleToSize)!="undefined"){h.scaleToSize=e.scaleToSize}if(typeof(e.lightbox_2_window_padding)!="undefined"){h.lightbox_2_window_padding=e.lightbox_2_window_padding}if(typeof(e.top)!="undefined"){h.top=e.top}if(typeof(e.left)!="undefined"){h.left=e.left}if(typeof(e.imageLoadIconLeft)!="undefined"){h.imageLoadIconLeft=e.imageLoadIconLeft}if(typeof(e.imageLoadIconTop)!="undefined"){h.imageLoadIconTop=e.imageLoadIconTop}if(typeof(e.imageLoadIconWindowWidth)!="undefined"){h.imageLoadIconWindowWidth=e.imageLoadIconWindowWidth}if(typeof(e.imageLoadIconWindowHeight)!="undefined"){h.imageLoadIconWindowHeight=e.imageLoadIconWindowHeight}if(typeof(e.imageLoadIconBackgroundColor)!="undefined"){h.imageLoadIconBackgroundColor=e.imageLoadIconBackgroundColor}if(typeof(e.body)!="undefined"){h.body=e.body}if(typeof(e.xslcssPath)!="undefined"){h.xslcssPath=e.xslcssPath}}function p(e,U,i){if(E>0){$.fn.log("log","")}s=document.createElement("div");s.className="showImage_lightbox";s.id=U+"_lightbox";s.innerHTML='<div class="showImage_lightbox_title" id="'+s.id+'_title" title="'+P[1][_sb_s.cur_lang_ID]+'">'+B(e,U,i)+'</div><div class="showImage_lightbox_content" id="'+s.id+'_content"></div>';h.body.appendChild(s);y=document.getElementById(U+"_title");f=document.getElementById(U+"_lightbox_content");J=_sb_fn.get_css_value("showImage_lightbox_title","height");if(!J){J=36}n=_sb_fn.get_css_value("showImage_lightbox_content","backgroundColor");if(!n){n="transparent"}F.left=parseInt(_sb_fn.get_css_value("showImage_lightbox","paddingLeft"));if(!F.left){F.left=5}F.top=parseInt(_sb_fn.get_css_value("showImage_lightbox","paddingTop"));if(!F.top){F.top=5}F.right=parseInt(_sb_fn.get_css_value("showImage_lightbox","paddingRight"));if(!F.right){F.right=5}F.bottom=parseInt(_sb_fn.get_css_value("showImage_lightbox","paddingBottom"));if(!F.bottom){F.bottom=5}t.left=parseInt(_sb_fn.get_css_value("showImage_lightbox","borderLeftWidth"));if(!t.left){t.left=1}t.top=parseInt(_sb_fn.get_css_value("showImage_lightbox","borderTopWidth"));if(!t.top){t.top=1}t.right=parseInt(_sb_fn.get_css_value("showImage_lightbox","borderRightWidth"));if(!t.right){t.right=2}t.bottom=parseInt(_sb_fn.get_css_value("showImage_lightbox","borderBottomWidth"));if(!t.bottom){t.bottom=2}T.left=parseInt(_sb_fn.get_css_value("showImage_lightbox_content","paddingLeft"));if(!T.left){T.left=2}T.top=parseInt(_sb_fn.get_css_value("showImage_lightbox_content","paddingTop"));if(!T.top){T.top=2}T.right=parseInt(_sb_fn.get_css_value("showImage_lightbox_content","paddingRight"));if(!T.right){T.right=2}T.bottom=parseInt(_sb_fn.get_css_value("showImage_lightbox_content","paddingBottom"));if(!T.bottom){T.bottom=2}if(h.draggable!=0){if(h.dragFunction!=null){K=new h.dragFunction(document.getElementById(s.id+"_title"),s,null,null,null,S)}}_sb_fn.touchScroll(U+"_content",false)}function u(U,X,i,V,e){if(E>0){_sb_s.DEBUGmode=2;$.fn.log("log","")}h.body=document.getElementById("sb_body");O();if(e){d(e)}if(X){h.imageWidth=X}else{h.imageWidth=null}if(i){h.imageHeight=i}else{h.imageHeight=null}var Y=r(V),W=c(V,Y,U);if(s==null){p(V,Y,U)}else{document.getElementById(Y+"_lightbox_title").innerHTML=B(V,Y,U)}g=new Image();g.onload=function(){A(Y,V,U)};g.onerror=function(){w()};g.src=U;if(X){g.width=X}if(i){g.height=i}s.style.display="none";f.innerHTML=W;if(h.draggable!=0){if(h.dragFunction!=null){}}M=setTimeout(function(){j(Y+"_img",null,U)},500);return}function v(){x()}this.showImageLightBox=u;this.showImage_lightbox_fadein=j;this.showImage_lightbox_fadeout=a;this.showImage_lightbox_setimage=L;this.showImage_lightbox_image=g;this.showImage_lightbox_setLastXY=S;this.killDraggable=v;this.makePresets=d};